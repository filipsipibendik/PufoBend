<!DOCTYPE html>
<html>
<head>
    <title>Pufo Bend</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- SIDE IMAGES (left and right) -->
  <div class="side-image side-left"></div>
  <div class="side-image side-right"></div>

  <!-- MAIN CONTENT WRAPPER -->
  <div class="main-content">

<nav>
    <div class="nav-left">
        <a href="O_nas.html">O nás</a>
        <a href="Aktuality.html">Aktuality</a>
    </div>

    <div class="nav-center">
        <a href="index.html" class="home-link">PUFO BEND</a>
    </div>

    <div class="nav-right">
        <a href="Videa_a_fotky.html">Galéria</a>
        <a href="Kontakt.html">Kontakt</a>
    </div>
</nav>




<div class="gallery-preview">
    <img src="images/Bardejov-Pufobend.jpg" class="gallery-open">
</div>

<!-- SKRYTÉ fotky pre galériu -->
<div class="hidden-gallery">
    <img src="images/Adam.jpg" class="zoom-img">
    <img src="images/Bardejov-Pufobend.jpg" class="zoom-img">
    <img src="images/Filip.jpg" class="zoom-img">
    <img src="images/Pufo.jpg" class="zoom-img">
    <img src="images/tasler1.jpg" class="zoom-img">
    <img src="images/tasler2.jpg" class="zoom-img">
    <img src="images/Adam.jpg" class="zoom-img">
    <img src="images/Bardejov-Pufobend.jpg" class="zoom-img">
    <img src="images/Filip.jpg" class="zoom-img">
    <img src="images/Pufo.jpg" class="zoom-img">
    <img src="images/tasler1.jpg" class="zoom-img">
    <img src="images/tasler2.jpg" class="zoom-img">
</div>



<script>
document.addEventListener("DOMContentLoaded", () => {

    // kolekcia všetkých obrázkov, ktoré budú v galérii
    const images = Array.from(document.querySelectorAll(".zoom-img"));

    // lightbox element: musí existovať v HTML (#lightbox) alebo ho vytvoríme
    let lightbox = document.getElementById("lightbox");
    if (!lightbox) {
      lightbox = document.createElement("div");
      lightbox.id = "lightbox";
      lightbox.className = "lightbox";
      lightbox.innerHTML = '<img id="lightbox-img"><div class="lightbox-prev">&#10094;</div><div class="lightbox-next">&#10095;</div>';
      document.body.appendChild(lightbox);
    }
    const img = document.getElementById("lightbox-img");
    const prevBtn = document.querySelector(".lightbox-prev");
    const nextBtn = document.querySelector(".lightbox-next");

    let currentIndex = 0;

    function showImage(index) {
        if (!images.length) return;
        currentIndex = (index + images.length) % images.length;
        img.src = images[currentIndex].src;
        lightbox.classList.add("active");
    }

    // klik na ktorúkoľvek .zoom-img (aj keď sú skryté) otvorí galériu na tej fotke
    images.forEach((picture, index) => {
        picture.addEventListener("click", () => {
            showImage(index);
        });
    });

    // ak máš preview (gallery-open), otvorí prvú fotku (index 0) alebo vybranú
    const preview = document.querySelector(".gallery-open");
    if (preview) {
        preview.addEventListener("click", () => {
            // ak preview zodpovedá prvej fotke v images, otvor index 0
            // inak nájdeme index preview.src v images a otvoríme ho
            const idx = images.findIndex(i => i.src === preview.src);
            showImage(idx >= 0 ? idx : 0);
        });
    }

    // šípky
    nextBtn.addEventListener("click", (e) => { e.stopPropagation(); showImage(currentIndex+1); });
    prevBtn.addEventListener("click", (e) => { e.stopPropagation(); showImage(currentIndex-1); });

    // zatvori klikom mimo obrázka
    lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) lightbox.classList.remove("active");
    });

    // keyboard
    document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("active")) return;
        if (e.key === "ArrowRight") showImage(currentIndex+1);
        if (e.key === "ArrowLeft") showImage(currentIndex-1);
        if (e.key === "Escape") lightbox.classList.remove("active");
    });
});

</script>

<div class="lightbox" id="lightbox">
    <img id="lightbox-img">
    <div class="lightbox-prev">&#10094;</div>
    <div class="lightbox-next">&#10095;</div>
</div>


</body>
</html>

